<html>
  <head>
  </head>
  
  <body>
	<article>
	  <h3>Don't call the last column a multiplier</h3>
	  <p>
		When I started reading up on &ltfeColorMatrix&gt I came across this
		<a href="https://alistapart.com/article/finessing-fecolormatrix/">article</a>
		where they had a figure similiar to this one.
	  </p>
	  <math display="block">
		<mrow>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <mtd>R</mtd>
			  <mtd>G</mtd>
			  <mtd>B</mtd>
			  <mtd>A</mtd>
			  <mtd>M</mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
		  </mtable>
		  <mo>]</mo>
		</mrow>
	  </math>
	  <p>
		With the R, G, B, A and M taken to stand for red, green, blue, alpha and
		multiplier respectively. If you are at all familiar with matrix arithmetic
		that last label should bother you. Consider the full equation of the
		transformation that &ltfeColorMatrix&gt applies.
	  </p>
	  <math display="block">
		<mrow>
		  <mo>[</mo>
		  <mtable>
			<mtr><mtd>R′</mtd></mtr>
			<mtr><mtd>G′</mtd></mtr>
			<mtr><mtd>B′</mtd></mtr>
			<mtr><mtd>A′</mtd></mtr>
			<mtr><mtd>1</mtd></mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>=</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>r</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>g</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>b</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>11</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>12</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>13</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>14</mi>
				</msub>
			  </mtd>
			  <mtd>
				<msub>
				  <mi>a</mi>
				  <mi>15</mi>
				</msub>
			  </mtd>
			</mtr>
			<mtr>
			  <mtd>
				0
			  </mtd>
			  <mtd>
				0
			  </mtd>
			  <mtd>
				0
			  </mtd>
			  <mtd>
				0
			  </mtd>
			  <mtd>
				1
			  </mtd>
			</mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr><mtd>R</mtd></mtr>
			<mtr><mtd>G</mtd></mtr>
			<mtr><mtd>B</mtd></mtr>
			<mtr><mtd>A</mtd></mtr>
			<mtr><mtd>1</mtd></mtr>
		  </mtable>
		  <mo>]</mo>
		</mrow>
	  </math>
	  <p>
		While the column labeled multiplier does indeed get multipled by 1.
		Beyond that the last column is simply added to the final color; because
		the final color is a linear combinatation of the columns vectors of the
		transformation matrix weighted by the components of the input color.
	  </p>
	  <math display="block">
		<mrow>
		  <mo>[</mo>
		  <mtable>
			<mtr><mtd>R′</mtd></mtr>
			<mtr><mtd>G′</mtd></mtr>
			<mtr><mtd>B′</mtd></mtr>
			<mtr><mtd>A′</mtd></mtr>
			<mtr><mtd>1</mtd></mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>=</mo>
		  <mi>R</mi>
		  <mo>&times;</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <msub>
				<mi>r</mi>
				<mn>11</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>g</mi>
				<mn>11</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>b</mi>
				<mn>11</mn>
			  </msub>
			</mtr>
		  <mtr>
			  <msub>
				<mi>a</mi>
				<mn>11</mn>
			  </msub>
		  </mtr>
		  <mtr>
			<mn>0</mn>
		  </mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>+</mo>
		  <mi>G</mi>
		  <mo>&times;</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <msub>
				<mi>r</mi>
				<mn>12</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>g</mi>
				<mn>12</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>b</mi>
				<mn>12</mn>
			  </msub>
			</mtr>
		  <mtr>
			  <msub>
				<mi>a</mi>
				<mn>12</mn>
			  </msub>
		  </mtr>
		  <mtr>
			<mn>0</mn>
		  </mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>+</mo>
		  <mi>B</mi>
		  <mo>&times;</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <msub>
				<mi>r</mi>
				<mn>13</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>g</mi>
				<mn>13</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>b</mi>
				<mn>13</mn>
			  </msub>
			</mtr>
		  <mtr>
			  <msub>
				<mi>a</mi>
				<mn>13</mn>
			  </msub>
		  </mtr>
		  <mtr>
			<mn>0</mn>
		  </mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>+</mo>
		  <mi>A</mi>
		  <mo>&times;</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <msub>
				<mi>r</mi>
				<mn>14</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>g</mi>
				<mn>14</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>b</mi>
				<mn>14</mn>
			  </msub>
			</mtr>
		  <mtr>
			  <msub>
				<mi>a</mi>
				<mn>14</mn>
			  </msub>
		  </mtr>
		  <mtr>
			<mn>0</mn>
		  </mtr>
		  </mtable>
		  <mo>]</mo>
		  <mo>+</mo>
		  <mo>[</mo>
		  <mtable>
			<mtr>
			  <msub>
				<mi>r</mi>
				<mn>15</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>g</mi>
				<mn>15</mn>
			  </msub>
			</mtr>
			<mtr>
			  <msub>
				<mi>b</mi>
				<mn>15</mn>
			  </msub>
			</mtr>
		  <mtr>
			  <msub>
				<mi>a</mi>
				<mn>15</mn>
			  </msub>
		  </mtr>
		  <mtr>
			<mn>1</mn>
		  </mtr>
		  </mtable>
		  <mo>]</mo>
		</mrow>
	  </math>
	</article>
  </body>
</html>
